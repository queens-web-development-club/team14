---
import Navbar from "../components/navbar.astro";
import Footer from "../components/footer.astro";

import '../styles/global.css';

let events2023 = ["Meet and Greet.jpg"];
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=League+Spartan:wght@100..900&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
        <title>Events - AIGSQ - Queen's University</title>
    </head>
    <body>
        <Navbar></Navbar>

        <div class="container">
            <h1>Archived Events</h1>
            <hr/>
            <div class="tabs">
                <button id="2024-btn" class="tab-link">2024</button>
                <button id="2023-btn" class="tab-link">2023</button>
                <button id="2022-btn" class="tab-link">2022</button>
                <button id="2021-btn" class="tab-link">2021</button>
            </div>
    
            <div id="2024" class="tab-content">
                {events2023.map(image => {
                    var dotIdx = image.lastIndexOf(".");
                    return (
                        <div class="event">
                            <img src={`Events/2023/${image}`} alt="" /> 
                            <div class="event-title">{dotIdx == -1 ? "err: bad file name" : image.slice(0, dotIdx)}</div>
                        </div>
                    )
                })}
            </div>
    
            <div id="2023" class="tab-content">
                {events2023.map(image => {
                    var dotIdx = image.lastIndexOf(".");
                    return (
                        <div class="event">
                            <img src={`Events/2023/${image}`} alt="" /> 
                            <div class="event-title">{dotIdx == -1 ? "err: bad file name" : image.slice(0, dotIdx)}</div>
                        </div>
                    )
                })}
            </div>
    
            <div id="2022" class="tab-content">
                {events2023.map(image => {
                    var dotIdx = image.lastIndexOf(".");
                    return (
                        <div class="event">
                            <img src={`Events/2023/${image}`} alt="" /> 
                            <div class="event-title">{dotIdx == -1 ? "err: bad file name" : image.slice(0, dotIdx)}</div>
                        </div>
                    )
                })}
            </div>
    
            <div id="2021" class="tab-content">
                {events2023.map(image => {
                    var dotIdx = image.lastIndexOf(".");
                    return (
                        <div class="event">
                            <img src={`Events/2023/${image}`} alt="" /> 
                            <div class="event-title">{dotIdx == -1 ? "err: bad file name" : image.slice(0, dotIdx)}</div>
                        </div>
                    )
                })}
            </div>
        </div>

        <Footer></Footer>

        <script>
            const yearBtns = document.querySelectorAll(".tab-link");
            var yearTabs;
            
            yearBtns.forEach( button => {
                button.addEventListener("click", openYear);
            });
                
            function openYear(event) {
                const btdID = event.srcElement.id;
                const year = btdID.slice(0,4);
                yearTabs = document.querySelectorAll(".tab-content");

                // Hide all tab contents and Remove the active class from all tab links
                for (var i = 0; i < yearBtns.length; i++) {
                    yearTabs[i].style.display = "none";
                    yearBtns[i].classList.remove("active");
                }

                // Show the current tab content and add the active class to the clicked tab link
                document.getElementById(year).style.display = "flex";
                event.srcElement.className += " active";
            }

            // Set the default tab to be open
            document.addEventListener("DOMContentLoaded", function() {
                (document.querySelector(".tab-link") as HTMLElement).classList.toggle("active");
                (document.querySelector(".tab-content") as HTMLElement).style.display = "flex";
            });
        </script>
    </body>
</html>

<style>
    .container {
        width: 85%;
        margin: 0 auto;
    }

    h1 {
        font-family: 'League Spartan';
        font-weight: 700;
        font-size: 5rem;
        color: black;
        text-align: left;
        margin-top: 20px;
    }

    .tabs {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

    .tab-link {
        background-color: #f1f1f1;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        margin: 0 5px;
        font-size: 16px;
    }

    .tab-link:hover {
        background-color: #ddd;
    }

    .tab-link.active {
        background-color: #555;
        color: white;
    }

    .tab-content {
        display: none;
        flex-wrap: wrap;
        justify-content: space-between;
    }

    .tab-content .event {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin-bottom: 20px;
        /* width: 20%; */
    }

    .event img{
        width: 400px;
        height: 500px;
        /* background-color: #ccc; */
        margin-bottom: 10px;
    }

    .event-title {
        background-color: #800000;
        color: white;
        padding: 10px;
        width: 250px;
        text-align: center;
    }

    #jason {
        color: purple;
        text-align: center;
    }
</style>